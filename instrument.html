

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instrument &mdash; x-psi 3.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=796a81b5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data" href="data.html" />
    <link rel="prev" title="Signal" href="signal.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            x-psi
              <img src="_static/xpsilogo_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQs and common problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="HPC_systems.html">HPC systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">Future</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Team and acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Start_here.html">Start here</a></li>
<li class="toctree-l1"><a class="reference internal" href="XPSI_101.html">X-PSI 101 - For Beginners</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modeling.html">Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Instrument_synergy.html">Instrument synergy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Hot_region_complexity.html">Hot region complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Global_surface_emission.html">Global surface emission</a></li>
<li class="toctree-l1"><a class="reference internal" href="Surface_radiation_field_tools.html">Surface radiation field tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modeling_without_statistics.html">Modeling (without statistics)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Polarization.html">Polarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Post-processing.html">Post-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Emitting_patterns_2Dprojection.html">Emitting Patterns 2D Projection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Accretion_disk.html">Accretion disk</a></li>
<li class="toctree-l1"><a class="reference internal" href="Multiple_imaging.html">Multiple imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Importance_sampling.html">Importance Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="Module_generator_tutorial.html">Module generator tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_script_and_modules.html">Example script and modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_job.html">Example job</a></li>
<li class="toctree-l1"><a class="reference internal" href="x_p_sbi.html">Posterior Inference using SBI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="likelihood_api.html">Likelihood API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="parameter.html">Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameterSubspace.html">ParameterSubspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="likelihood.html">Likelihood</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">Signal</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Instrument</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xpsi.Instrument.Instrument"><code class="docutils literal notranslate"><span class="pre">Instrument</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.__call__"><code class="docutils literal notranslate"><span class="pre">Instrument.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.cached_signal"><code class="docutils literal notranslate"><span class="pre">Instrument.cached_signal</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.channel_edges"><code class="docutils literal notranslate"><span class="pre">Instrument.channel_edges</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.channels"><code class="docutils literal notranslate"><span class="pre">Instrument.channels</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.construct_matrix"><code class="docutils literal notranslate"><span class="pre">Instrument.construct_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.energy_edges"><code class="docutils literal notranslate"><span class="pre">Instrument.energy_edges</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#xpsi.Instrument.Instrument.matrix"><code class="docutils literal notranslate"><span class="pre">Instrument.matrix</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#xpsi.Instrument.ResponseError"><code class="docutils literal notranslate"><span class="pre">ResponseError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#xpsi.Instrument.EdgesError"><code class="docutils literal notranslate"><span class="pre">EdgesError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#xpsi.Instrument.ChannelError"><code class="docutils literal notranslate"><span class="pre">ChannelError</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="star.html">Star</a></li>
<li class="toctree-l2"><a class="reference internal" href="spacetime.html">Spacetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="photosphere.html">Photosphere</a></li>
<li class="toctree-l2"><a class="reference internal" href="hotregion.html">HotRegion</a></li>
<li class="toctree-l2"><a class="reference internal" href="hotregions.html">HotRegions</a></li>
<li class="toctree-l2"><a class="reference internal" href="elsewhere.html">Elsewhere</a></li>
<li class="toctree-l2"><a class="reference internal" href="everywhere.html">Everywhere</a></li>
<li class="toctree-l2"><a class="reference internal" href="interstellar.html">Interstellar</a></li>
<li class="toctree-l2"><a class="reference internal" href="background.html">Background</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extension_modules.html">Extension modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="posterior_api.html">Posterior API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">x-psi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="likelihood_api.html">Likelihood API</a></li>
      <li class="breadcrumb-item active">Instrument</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/instrument.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="instrument">
<span id="module-xpsi.Instrument"></span><span id="id1"></span><h1>Instrument<a class="headerlink" href="#instrument" title="Link to this heading"></a></h1>
<p>Instances of <a class="reference internal" href="#xpsi.Instrument.Instrument" title="xpsi.Instrument.Instrument"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instrument</span></code></a> are objects representing a model
instrument.</p>
<dl class="py class">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xpsi.Instrument.</span></span><span class="sig-name descname"><span class="pre">Instrument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpsi/Instrument.html#Instrument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.Instrument" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="parameterSubspace.html#xpsi.ParameterSubspace.ParameterSubspace" title="xpsi.ParameterSubspace.ParameterSubspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterSubspace</span></code></a></p>
<p>Base class for astronomical X-ray instruments on-board space telescopes.</p>
<p>The body of the initialiser must not be changed to ensure inter-module
compatibility, but can be extended if appropriate using a call to
<code class="docutils literal notranslate"><span class="pre">super().__init__</span></code>. Specialist constructors can be defined in a subclass
using the <code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code> decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>ndarray</em><em>[</em><em>p</em><em>,</em><em>q</em><em>]</em>) – A <span class="math notranslate nohighlight">\(p \\times q\)</span> matrix which is the product of a redistribution
matrix and effective area vector. The input energy intervals must
increase along the columns of <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>, and the output channels
must increase along the rows of <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>. The <em>units</em> of the
elements must be that of an <em>effective</em> area (<span class="math notranslate nohighlight">\(cm^2\)</span>). Generally
there will be some available calibration product, and deviations from
this nominal response model will be parametrised. So here load some
nominal response matrix.</p></li>
<li><p><strong>energy_edges</strong> (<em>ndarray</em><em>[</em><em>q+1</em><em>]</em>) – Energy edges in keV of the instrument energy intervals which must be
congruent to the first dimension of the <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>: the number of
edges must be <span class="math notranslate nohighlight">\(q + 1\)</span>. The edges must be monotonically increasing.
These edges will correspond to the nominal response matrix and any
deviation from this matrix (see above).</p></li>
<li><p><strong>channels</strong> (<em>ndarray</em><em>[</em><em>p</em><em>]</em>) – Instrument channel numbers which must be equal in number to the number
of rows of the <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>. The number of channels must therefore be
<span class="math notranslate nohighlight">\(p\)</span>. These channels will correspond to the nominal response
matrix and any deviation from this matrix (see above). In common usage
patterns, the channel numbers will increase monotonically with row
number, and usually increment by one (but this is not necessary).</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>That these channel numbers are not used to index the loaded instrument
(sub)matrix. The <code class="xref py py-attr docutils literal notranslate"><span class="pre">xpsi.Data.index_range</span></code> property returns
bounding row numbers that index the loaded instrument response
(sub)matrix in order to operate on an incident signal flux. The
channel array contained in <code class="xref py py-attr docutils literal notranslate"><span class="pre">xpsi.Data.channels</span></code> must be a
contiguous (ordered) subset of the channel array loaded here.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The dimensions of the response matrix need not be equal, but it is
required that the number of input intervals be greater than or equal to
the number of output channels – i.e., <span class="math notranslate nohighlight">\(p \leq q\)</span>. If <span class="math notranslate nohighlight">\(p &lt;
q\)</span> then it is implied that subsets of adjacent output channels are
effectively grouped together.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_edges</strong> (<em>ndarray</em><em>[</em><em>p+1</em><em>]</em>) – The channel (energy) edges of the instrument, in keV. The array must
be congruent to the zeroth dimension of the <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>: the number
of edges must be <span class="math notranslate nohighlight">\(p + 1\)</span>. The edges must be monotonically
increasing. These edges will correspond to the nominal response matrix
and any deviation from this matrix (see above).</p></li>
<li><p><strong>args</strong> (<em>tuple</em>) – Container of parameter instances.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – If you want to prefix parameters of an instance of this instrument
subspace with an identifier, pass it as keyword argument and it will
find its way to the base class.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">irange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orange</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpsi/Instrument.html#Instrument.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.Instrument.__call__" title="Link to this definition"></a></dt>
<dd><p>Register an incident signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>ndarray</em><em>[</em><em>m</em><em>,</em><em>n</em><em>]</em>) – An <span class="math notranslate nohighlight">\(m \times n\)</span> matrix, where input energy interval
increments along rows, and phase increases along columns. The
number of rows, <span class="math notranslate nohighlight">\(m\)</span>, must equal the number of columns of
<a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a>: <span class="math notranslate nohighlight">\(m=q\)</span>.</p></li>
<li><p><strong>irange</strong> (<em>array-like</em>) – Indexable object with two elements respectively denoting the
indices of the first and last <em>input</em> intervals. The response
matrix <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> must be indexable with these numbers, i.e.,
they must satisfy <span class="math notranslate nohighlight">\(indx &lt; q\)</span>.</p></li>
<li><p><strong>orange</strong> (<em>array-like</em>) – Indexable object with two elements respectively denoting the
indices of the first and last <em>output</em> channels. The response
matrix <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> must be indexable with these numbers, i.e.,
they must satisfy <span class="math notranslate nohighlight">\(indx &lt; p\)</span>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>ndarray[p,n]</em> containing the registered signal.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The product of the most recent operation is stored as the property
<a class="reference internal" href="#xpsi.Instrument.Instrument.cached_signal" title="xpsi.Instrument.Instrument.cached_signal"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cached_signal</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.cached_signal">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cached_signal</span></span><a class="headerlink" href="#xpsi.Instrument.Instrument.cached_signal" title="Link to this definition"></a></dt>
<dd><p>Get the cached registered signal.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.channel_edges">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">channel_edges</span></span><a class="headerlink" href="#xpsi.Instrument.Instrument.channel_edges" title="Link to this definition"></a></dt>
<dd><p>Get the channel (energy) edges of the instrument, in keV.</p>
<p>A <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of edges of the registered energy intervals
labelled as channels defined in the data space. This is relevant when
there is a detector-by-detector gain scale applied to event data (such
as for NICER instrument calibration products), meaning that the
redistribution matrix is effectively shared by detectors and the
channels across detectors can share an energy scale definition.</p>
<p>An incident photon of given energy then has a registered-energy
distribution that generally peaks in the vicinity of the true photon
energy. The resdistribution matrix will have some energy resolution
(along with other features such as shelves). With thanks to Paul S.
Ray for explaining the choice to calibrate in this manner.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you made a channel cut that results in a non-contiguous subset
of channels, you will need to overwrite the setter method because
the checks will fail.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.channels">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">channels</span></span><a class="headerlink" href="#xpsi.Instrument.Instrument.channels" title="Link to this definition"></a></dt>
<dd><p>Get the array of channels corresponding to rows of the matrix.</p>
<p>The matrix being the loaded instrument response (sub)matrix.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.construct_matrix">
<span class="sig-name descname"><span class="pre">construct_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpsi/Instrument.html#Instrument.construct_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.Instrument.construct_matrix" title="Link to this definition"></a></dt>
<dd><p>Construct the response matrix if it is parameterised.</p>
<p>If customising, do operations to calculate a matrix, and return it.
You can access parameters (free, fixed, and derived) via the container
access <code class="docutils literal notranslate"><span class="pre">self[&lt;name&gt;]</span></code>.</p>
<p>If the instrument operation is fixed, you might not need to subclass,
because the default behaviour is to return the nominal response you
loaded. If for some reason the matrix you loaded is to be modified in
some fixed manner, possibly as a function of some custom fixed
parameters that you defined, you would also have to subclass and
provide the correct implementation of this method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.energy_edges">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_edges</span></span><a class="headerlink" href="#xpsi.Instrument.Instrument.energy_edges" title="Link to this definition"></a></dt>
<dd><p>Get the energy edges of the instrument, in keV.</p>
<p>A <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> of edges of the input energy intervals which
map to channels defined in the data space.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="xpsi.Instrument.Instrument.matrix">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">matrix</span></span><a class="headerlink" href="#xpsi.Instrument.Instrument.matrix" title="Link to this definition"></a></dt>
<dd><p>Get the reference response matrix.</p>
<p>In common usage patterns there will be some fiducial or nominal
response matrix that either defines fixed instrument operation or
is a basis for parametrised deviations. This matrix is usually a
calibration product distributed by an instrument calibration team.</p>
<p>A matrix of dimension <span class="math notranslate nohighlight">\(p \\times q\)</span>. Here <span class="math notranslate nohighlight">\(p\)</span> must be the
number of input energy intervals, and <span class="math notranslate nohighlight">\(q \geq p\)</span> the number of
output channels.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attribute <a class="reference internal" href="#xpsi.Instrument.Instrument.matrix" title="xpsi.Instrument.Instrument.matrix"><code class="xref py py-attr docutils literal notranslate"><span class="pre">matrix</span></code></a> must be assigned, and it must be
a <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> for use with <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dot.html#numpy.dot" title="(in NumPy v2.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.dot()</span></code></a> (even
if the matrix is sparse to some degree).</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="xpsi.Instrument.ResponseError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xpsi.Instrument.</span></span><span class="sig-name descname"><span class="pre">ResponseError</span></span><a class="reference internal" href="_modules/xpsi/Instrument.html#ResponseError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.ResponseError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xpsiError</span></code></p>
<p>Raised if there is a problem with the input response matrix.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="xpsi.Instrument.EdgesError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xpsi.Instrument.</span></span><span class="sig-name descname"><span class="pre">EdgesError</span></span><a class="reference internal" href="_modules/xpsi/Instrument.html#EdgesError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.EdgesError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xpsiError</span></code></p>
<p>Raised if there is a problem with the input energy edges.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="xpsi.Instrument.ChannelError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">xpsi.Instrument.</span></span><span class="sig-name descname"><span class="pre">ChannelError</span></span><a class="reference internal" href="_modules/xpsi/Instrument.html#ChannelError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xpsi.Instrument.ChannelError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xpsiError</span></code></p>
<p>Raised if there is a problem with the input channel numbers.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="signal.html" class="btn btn-neutral float-left" title="Signal" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data.html" class="btn btn-neutral float-right" title="Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2025 the X-PSI Core Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>